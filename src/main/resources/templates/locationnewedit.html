<!DOCTYPE html>
<html lang="en" xmlns:th="www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description"
		content="Responsive sidebar template with sliding effect and dropdown menu based on bootstrap 3">
	<title>iConverge</title>

	<!-- using online links -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
		integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
		integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
	<link rel="stylesheet" href="//malihu.github.io/custom-scrollbar/jquery.mCustomScrollbar.min.css">
	<!-- CSS only -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
	<!-- CSS only -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">

	<link rel="stylesheet" href="../css/main.css">
	<link rel="stylesheet" href="../css/sidebar-themes.css">
	<link rel="stylesheet" href="../css/form-style.css">

	<!-- datatable link  -->
	<link href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css" rel="stylesheet" />

</head>

<body>
	<div class="page-wrapper default-theme  bg1 toggled">
		<span th:remove="tag" th:utext="${dataHtml}"></span>

		<!-- page-content  -->
		<main class="page-content">
			<div id="overlay" class="overlay"></div>
			<div class="container-fluid" style="padding: 0px;">
				<div class="title-bar"
					style="height: 90px; background-color: #eaeaea; box-shadow: 0 0 0.875rem 0 rgb(33 37 41 / 10%) !important;">
					<a id="toggle-sidebar" class="btn btn-secondary rounded-0" href="#"
						style="margin: 20px; background: #3ab54a;">
						<span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
								class="bi bi-list" viewBox="0 0 16 16">
								<path fill-rule="evenodd"
									d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z" />
							</svg></span>
					</a>
				</div>
				<div class="container mt-4">
					<div class="card">
						<div class="card-header" style="background:#2b9139">
							<h3 class="" style="text-align:center; color:white">ESU/Location Setup</h3>
						</div>
						<div class="card-body">
							<form th:action="@{'/locationNew/'+${id}}" method="post" th:object="${insLocations}">
								<div class="form-row ml-4 mt-2">
									<label style="color: black; margin-top:3px;">Code:</label>
									<div class="col-md-1 ml-2 mr-5">
										<input id="code" name="code" th:value="${Code}" class="form-control" required />
									</div>

									<label style="color: black; margin-top:3px;">Name:</label>
									<div class="col-md-3 ml-2 mr-5">
										<input id="name" name="name" th:value="${name}" class="form-control" required />
									</div>

									<label style="color: black; margin-top:3px; margin-right:45px;">Zone:</label>
									<div class="col-md-2 ml-2">
										<select id="zone" name="zone">
											<option value="" th:text="${zone}" selected>--</option>
											<option th:each="zone : ${listIC_ZONE_MST}" th:value="${zone.ZONE_CODE}"
												th:text="${zone.ZONE_NAME}"></option>

										</select>
									</div>
								</div>

								<div class="form-row ml-4 mt-3">
									<label style="color: black; margin-top:12px; margin-right:55px;">Circle:</label>
									<div class="col-md-2 ml-2" style="margin-right:50px;">
										<select id="circle" name="circle">
											<option value="" th:text="${circle}" selected>--</option>
											<option th:each="circle : ${circleList}" th:value="${circle.CIRCLE_CODE}"
												th:text="${circle.CIRCLE_NAME}"></option>

										</select>
									</div>

									<label style="color: black; margin-top:12px; margin-right:45px;">Division:</label>
									<div class="col-md-2 ml-2" style="margin-right:45px;">
										<select id="div" name="div">
											<option value="" th:text="${div}" selected>--</option>
											<option th:each="d : ${divList}" th:value="${d.DIV_CODE}"
												th:text="${d.DIV_NAME}"></option>

										</select>
									</div>

									<label style="color: black; margin-top:3px; margin-right:5px">Sub Division <br>
										Code:</label>
									<div class="col-md-2 ml-2 mr-5">
										<input id="subDiv" name="subDiv" th:value="${subDiv}" class="form-control"
											required />
									</div>

								</div>

								<div class="form-row ml-4 mt-4">
									<label style="color: black; margin-right:30px;">Computer <br>
										Sector:</label>


									<div class="col-md-2 ml-2">
										<select id="computerSec" name="computerSec">
											<option value="" th:text="${comCen}" selected>--</option>
											<option th:each="c : ${comDrop}" th:value="${c.officeCode}"
												th:text="${c.officeDesc}"></option>
										</select>
									</div>

									<label style="color: black; margin-top:3px; margin-right:25px;">Office Code:</label>
									<div class="col-md-2 ml-2">
										<select id="officeCode" name="officeCode">
											<option value="" th:text="${ss}" selected>--</option>
											<option th:each="o : ${officeDrop}" th:value="${o.officeCode}"
												th:text="${o.officeDesc}"></option>
										</select>
									</div>

									<label style="color: black; margin-top:12px; margin-right:40px;">Action:</label>
									<div class="col-md-2 ml-2">
										<select id="status" name="status">
											<option value="Y" selected>Yes</option>
											<option value="N">No</option>
										</select>
									</div>
								</div>
								<div class="form-row mt-3">
										<a type="button" class="btn btn-warning mr-4" style="margin-left:40%;"
											th:href="@{'/IC_LOCATION_MASTER_STATUS/'}">Clear</a> 
									
									<button class="btn mr-4" type="submit"
										style="background-color:#14b6e3;">Update</button>
									<a type="button" class="btn btn-danger"
										th:href="@{'/IC_LOCATION_MASTER_STATUS/'}">Delete</a>
								</div>
						</div>
						</form>
					</div>
				</div>
			</div>

			<div class="row mt-5 pt-3">
				<div class="col-lg-1 col-md-1 col-sm-0"></div>
				<div class="col-lg-10 col-md-10 col-sm-12">
					<div class="card">
						<div class="card-header" style="background-color: #00FF80;">
							<h4 class="card-title" style="text-align: center;">ESU/Location</h4>
						</div>
						<div class="card-body">
							<div class="table-responsive">
								<table id="myTable" class="table table-hover table-striped"
									style="background-color: #ccffe5;">
									<thead class="text" style="font-size:14px; color:green;">
										<tr style="text-align: center;">
											<th hidden scope="col">LOCATION ID</th>
											<th scope="col">LOCATION CODE</th>
											<th scope="col">LOCATION NAME</th>
											<th scope="col">STATUS</th>
											<th scope="col">ZONE DESCRIPTION</th>
											<th scope="col">CIRCLE DESCRIPTION</th>
											<th scope="col">DIV DESCRIPTION</th>
											<th scope="col">COMPUTER CNTER NAME</th>
											<th hidden scope="col">Edit</th>

										</tr>
									</thead>
									<tbody>
										<tr th:each="i : ${locationListModel}" style="text-align: center;">
											<td hidden th:text="${i.pLOCATION_ID}"></td>
											<td th:text="${i.pLOCATION_CODE}"></td>
											<td th:text="${i.pLOCATION_NAME}"></td>
											<td th:text="Yes"></td>
											<td th:text="${i.pZONE_DESC}"></td>
											<td th:text="${i.pCIRCLE_DESC}"></td>
											<td th:text="${i.pDIV_DESC}"></td>
											<td th:text="${i.pCOMP_CNTR_NAME}"></td>
											<td hidden><a th:href="@{'/locationNew/'+ ${i.pLOCATION_ID} }">Edit</a>

										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div class="col-lg-1 col-md-1 col-sm-0"></div>
			</div>
	</div>
	</main>
	<!-- page-content" -->
	</div>
	<!-- page-wrapper -->

	<!-- using online scripts -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
		integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous">
		</script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
		integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous">
		</script>
	<script src="//malihu.github.io/custom-scrollbar/jquery.mCustomScrollbar.concat.min.js"></script>

	<!-- using local scripts -->
	<!-- <script src="../node_modules/jquery/dist/jquery.min.js"></script>
    <script src="../node_modules/popper.js/dist/umd/popper.min.js"></script>
    <script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="../node_modules/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.concat.min.js"></script> -->


	<script src="js/main.js"></script>
	<!-- datatable script  -->
	<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>

	<!-- 		circle dropdown starts  -->
	<script>
		$(document).ready(function () {
			$("#zone").change(function () {

				$("#circle").empty();



				var x = $("#zone").val();

				if (x == "") {
					$("#circle").empty();
					$("<option>").val("").text("Select Circle").appendTo(circleDropdown);
				}
				else {

					var urlString = "/api/circle/" + x;
					console.log(urlString);

					$.ajax({
						method: "GET",
						url: urlString
					})
						.done(function (responseJson) {

							circleDropdown = $("#circle");

							$("<option>").val("").text("Select Circle").appendTo(circleDropdown);
							$.each(responseJson, function (index, circle) {

								$("<option>").val(circle.circle_CODE).text(circle.circle_NAME).appendTo(circleDropdown);
							});
						})
						.fail(function () {
							alert("Connection Error");
						})
				}


			})
		})
	</script>
	<!-- 		circle dropdown ends  -->

	<!-- 			div dropdown starts -->
	<script>
		$(document).ready(function () {
			$("#circle").change(function () {

				$("#div").empty();



				var x = $("#circle").val();
				// 					console.log(x);

				if (x == "") {
					$("#div").empty();
					$("<option>").val("").text("Select Div").appendTo(divDropdown);
				}
				else {



					var urlString = "/api/div/" + x;
					console.log(urlString);

					$.ajax({
						method: "GET",
						url: urlString
					})
						.done(function (responseJson) {

							divDropdown = $("#div");

							// 							alert(responseJson);

							$("<option>").val("").text("Select Div").appendTo(divDropdown);
							$.each(responseJson, function (index, div) {
								// 								div_CODE

								$("<option>").val(div.div_CODE).text(div.div_NAME).appendTo(divDropdown);
							});
						})
						.fail(function () {
							alert("Connection Error");
						})
				}


			})
		})
	</script>
	<!-- 				div dropdown ends  -->



	<!--<script>
		$(document).ready(function () {
			$('#myTable').DataTable();
		});
	</script>
	
	-->
	<script>
		$(document).ready(function () {

			$('#myTable tr').click(function () {
				var href = $(this).find("a").attr("href");
				if (href) {
					window.location = href;
				}
			});

		});
	</script>
</body>

</html>