<!DOCTYPE html>
<html lang="en" xmlns:th="www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description"
        content="Responsive sidebar template with sliding effect and dropdown menu based on bootstrap 3">
    <title>iConverge</title>

    <!-- using online links -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
        integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
        integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <link rel="stylesheet" href="//malihu.github.io/custom-scrollbar/jquery.mCustomScrollbar.min.css">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">

    <!-- using local links -->
    <!-- <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../node_modules/@fortawesome/fontawesome-free/css/all.min.css">
    <link rel="stylesheet" href="../node_modules/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.css"> -->

    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/sidebar-themes.css">
    <link rel="stylesheet" href="./css/form-style.css">

    <style>
        tr,
        td,
        th {
            vertical-align: middle !important;
            text-align: center !important;
        }
    </style>

    <!-- datatable link  -->
    <link href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css" rel="stylesheet" />

</head>

<body>
				
    <div class="page-wrapper default-theme  bg1 toggled">
        <span th:remove="tag" th:utext="${dataHtml}"></span>
        <!-- page-content  -->
        <main class="page-content">
            <div id="overlay" class="overlay"></div>
            <div class="container-fluid" style="padding: 0px;">
                <div class="title-bar"
                    style="height: 90px; background-color: #eaeaea; box-shadow: 0 0 0.875rem 0 rgb(33 37 41 / 10%) !important;">
                    <a id="toggle-sidebar" class="btn btn-secondary rounded-0" href="#"
                        style="margin: 20px; background: #3ab54a;">
                        <span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-list" viewBox="0 0 16 16">
                                <path fill-rule="evenodd"
                                    d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z" />
                            </svg></span>
                    </a>
                </div>
                
                
                <div class="container">
					<form th:action="@{/IC_REV_PER_DIV}" method="post"
						th:object="${reportModel}">
						<div class="card mt-5 mb-5">
							<div class="row pt-4 pb-4 card-body">
								<div class="col-lg-1 col-md-2 col-sm-12 mt-3 text-center">
									<label for="bill" class="">Zone :</label>
								</div>
								<div class="col-lg-2 col-md-3 col-sm-12">
									<select id="one" class="form-control" name="one">
										<option value="">Select Zone</span></option>

										<option th:each="b : ${listIC_ZONE_MST}"
											th:value="${b.ZONE_CODE}"
											th:text="${b.ZONE_NAME}"
											th:selected="${b.ZONE_CODE}==${reportModel.one}"></option>
									</select>
								</div>
								
												
                 <div class="col-lg-4 col-md-4 col-sm-12">
					<div class="row">
                 <div class="col-lg-3 col-md-3 col-sm-12">
					<label for="text" class="text-center m-2">Circle:</label>
                 </div>
                 <div class="col-lg-9 col-md-9 col-sm-12">
                    <select  id="two" class="form-control" name="two">
										
											<option value="">Select Circle</option>
											<option th:each="circle : ${circleList}" 
											 th:value="${circle.CIRCLE_CODE}" 
											 th:text="${circle.CIRCLE_NAME}" 
											 th:selected="${circle.CIRCLE_CODE}==${reportModel.two}"></option>
										  
										  
										</select> 
                 </div>
             </div>
                 </div>
								<div class="col-lg-1 col-md-2 col-sm-12 mt-3 text-center">
									<label for="bill" class="">Month :</label>
								</div>
								<div class="col-lg-2 col-md-3 col-sm-12">
									<select id="three" class="form-control" name="three">
										<option value="">Select Month</span></option>

										<option th:each="b : ${billList}"
											th:value="${b.BILL_CYCLE_CODE}"
											th:text="${b.BILL_CYCLE_DESC}"
											th:selected="${b.BILL_CYCLE_CODE}==${reportModel.three}"></option>
									</select>
								</div>
								<div class="col-lg-2 col-md-2 col-sm-12 text-center">
									<input type="submit" value="Submit"
										class="btn btn-lg btn-success mr-1 mb-1" />
								</div>
								<div class="col-lg-2 col-md-2 col-sm-12 text-center">
								<input type="button"
						class="btn btn-lg btn-danger mr-1 mb-1"
						id="printme" value="Print" onclick="printContent('divName')" />
								</div>
							</div>
						</div>
					</form>

				</div>
                <div id="divName" class="container pt-5 pb-5">
                    <div class="row pt-4 pb-4 mb-5" style="border-style: ridge; border-width: 6px; width: auto; margin: auto;">
                        <h3 class="text-center">Sector Wise Account Receivable (Novâ€™2020)</h3>
                        <h5 class="text-center mt-4">Circle : <span  th:text="${zone}"></span></h5>
                    </div>
                    <div class="row pt-4 pb-4">
                        <!-- <div class="col-lg-1 col-md-1 col-sm-0"></div> -->
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <table class="table table-bordered border-secondary">
                                <col>
                                <colgroup span="2"></colgroup>
                                <colgroup span="2"></colgroup>
                                <tr>
                                    <th rowspan="2">Circle/Zone</th>
                                    <th colspan="2" scope="colgroup">Govt.</th>
                                    <th colspan="2" scope="colgroup">Auto.</th>
                                    <th colspan="2" scope="colgroup">Priv.</th>
                                    <th colspan="2" scope="colgroup">Total</th>
                                </tr>
                                <tr>
                                    <th scope="col">Rec.<br>MTk.</th>
                                    <th scope="col">Equ.<br>Month</th>
                                    <th scope="col">Rec.<br>MTk.</th>
                                    <th scope="col">Equ.<br>Month</th>
                                    <th scope="col">Rec.<br>MTk.</th>
                                    <th scope="col">Equ.<br>Month</th>
                                    <th scope="col">Rec.<br>MTk.</th>
                                    <th scope="col">Equ.<br>Month</th>
                                </tr>
                                <tr th:each="i : ${iC_REV_PER_DIV_MODEL}" style="text-align: center;">
                                    <th th:text="${i.circleName}"> </th>
                                    <td th:text="${i.clName}"></td>
                                    <td th:text="${i.recGovt}"></td>
                                    <td th:text="${i.eqmGovt}"></td>
                                    <td th:text="${i.recAuto}"></td>
                                    <td th:text="${i.eqmAuto}"></td>
                                    <td th:text="${i.recPriv}"></td>
                                    <td th:text="${i.recTot}"></td>
                                    <td th:text="${i.eqmTot}"></td>
                                </tr>
                                
                         
                            </table>
                        </div>
                        <!-- <div class="col-lg-1 col-md-1 col-sm-0"></div> -->
                    </div>
                </div>
            </div>
        </main>
        <!-- page-content" -->
    </div>
    <!-- page-wrapper -->

    <!-- using online scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
        integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous">
        </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
        integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous">
        </script>
    <script src="//malihu.github.io/custom-scrollbar/jquery.mCustomScrollbar.concat.min.js"></script>

    <!-- using local scripts -->
    <!-- <script src="../node_modules/jquery/dist/jquery.min.js"></script>
    <script src="../node_modules/popper.js/dist/umd/popper.min.js"></script>
    <script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="../node_modules/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.concat.min.js"></script> -->


    <script src="js/main.js"></script>
    <!-- datatable script  -->
    <script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>


    <script>
        $(document).ready(function () {
            $('#myTable').DataTable();
        });
    </script>
    
    
     <!-- 		circle dropdown starts  -->
		<script>
			$(document).ready(function(){
				$("#one").change(function(){
					
					$("#two").empty();
					
					
					
					var x = $("#one").val();
					
					if(x == ""){
						$("#two").empty();
						$("<option>").val("").text("Select Circle").appendTo(circleDropdown);
					}
					else{
					
						var urlString = "/api/circle/"+x;
						console.log(urlString);
						
						$.ajax({
							method: "GET",
							url : urlString
						})
						.done(function(responseJson){
							
							circleDropdown = $("#two");
							
							$("<option>").val("").text("Select Circle").appendTo(circleDropdown);
							$.each(responseJson, function(index, circle){
								
								$("<option>").val(circle.circle_CODE).text(circle.circle_NAME).appendTo(circleDropdown);
							});
						})
						.fail(function(){
							alert("Connection Error");
						})
					}
					
					
				})
			})
		</script>
<!-- 		circle dropdown ends  -->
</body>

</html>